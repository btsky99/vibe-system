# Agent Collaboration Guide - 에이전트 협업 가이드

## 🚀 Claude Code에서 에이전트 협업 사용법

### 📋 에이전트 목록

1. **agent-creation-manager** - 에이전트 생성
2. **agent-registry-manager** - 등록/카탈로그
3. **agent-health-monitor** - 모니터링
4. **agent-update-specialist** - 업데이트

### 🔄 워크플로우별 호출 순서

## 1️⃣ 새 에이전트 생성 워크플로우

```bash
# Step 1: 생성
"새로운 [에이전트명] 에이전트를 만들어줘. 
- 타입: [universal/project/domain]
- 기능: [주요 기능들]
- MCP: [필요한 MCP 서버들]"

# Step 2: 등록 (생성 완료 후)
"[에이전트명]을 레지스트리에 등록해줘"

# Step 3: 모니터링 시작
"[에이전트명] 모니터링을 시작해줘"
```

### 실제 예시:
```
User: "데이터베이스 관리 에이전트를 만들고 싶어"

Assistant가 자동으로:
1. agent-creation-manager로 생성
2. agent-registry-manager로 등록
3. agent-health-monitor로 모니터링 설정
```

## 2️⃣ 에이전트 업데이트 워크플로우

```bash
# Step 1: 현재 상태 확인
"[에이전트명]의 현재 상태를 확인해줘"

# Step 2: 업데이트 실행
"[에이전트명]을 v[새버전]으로 업데이트해줘"

# Step 3: 검증
"업데이트된 [에이전트명]의 상태를 확인해줘"
```

## 3️⃣ 문제 해결 워크플로우

```bash
# Step 1: 진단
"[에이전트명]의 문제를 진단해줘"

# Step 2: 패치
"[에이전트명]의 [문제]를 수정해줘"

# Step 3: 확인
"수정 후 상태를 확인해줘"
```

## 4️⃣ 전체 시스템 상태 확인

```bash
"전체 에이전트 시스템 상태를 보여줘"

자동으로 확인:
- Registry: 등록된 에이전트 목록
- Health: 각 에이전트 상태
- Updates: 필요한 업데이트
```

## 📝 통합 명령어 템플릿

### 🎯 한 번에 처리하기

```markdown
"다음 작업을 순서대로 처리해줘:
1. 'api-handler' 에이전트 생성 (타입: domain, MCP: postgres)
2. 레지스트리에 등록
3. 모니터링 시작
4. 상태 리포트 생성"
```

### 🔍 상태 점검 명령어

```markdown
"시스템 전체 점검:
1. 모든 에이전트 목록 (Registry)
2. 각 에이전트 상태 (Health)
3. 필요한 업데이트 (Update)
4. 성능 메트릭 (Monitor)"
```

### 🔧 문제 해결 명령어

```markdown
"[에이전트명]에 문제가 있어:
1. 현재 상태 진단
2. 자동 복구 시도
3. 필요시 패치 적용
4. 결과 보고"
```

## 🤖 Assistant의 역할

Claude Assistant가 이 가이드를 따라:

1. **자동 순서 결정**: 사용자 요청을 분석하여 필요한 에이전트 호출 순서 결정
2. **컨텍스트 전달**: 이전 에이전트의 결과를 다음 에이전트에 전달
3. **결과 통합**: 여러 에이전트의 결과를 통합하여 보고

## 💡 실용적 사용 팁

### DO ✅
- 명확한 요청: "API 테스트 에이전트를 만들고 등록해줘"
- 순차적 처리: 생성 → 등록 → 모니터링
- 상태 확인: 각 단계 후 상태 확인

### DON'T ❌
- 동시 호출 시도 (순차적으로 처리)
- 의존성 무시 (생성 전에 업데이트 시도 등)
- 컨텍스트 없는 호출

## 📊 예상 응답 형식

```
[작업 시작]
├─ Creation Manager: 에이전트 생성 중...
│  └─ 완료: api-handler v1.0.0
├─ Registry Manager: 등록 중...
│  └─ 완료: ID #ah-001
├─ Health Monitor: 모니터링 시작...
│  └─ 완료: 상태 정상
└─ [작업 완료] 3단계 모두 성공
```

## 🔄 자동화 스크립트 (복사해서 사용)

### 전체 생성 프로세스
```
새 에이전트 생성 요청:
- 이름: [에이전트명]
- 타입: [타입]
- 기능: [기능 리스트]
- 자동으로: 생성 → 등록 → 모니터링 설정
```

### 일일 점검
```
일일 시스템 점검:
1. 전체 에이전트 목록 조회
2. 비정상 에이전트 진단
3. 필요한 업데이트 확인
4. 성능 리포트 생성
```

### 긴급 대응
```
긴급: [에이전트명] 오류 발생
1. 즉시 진단
2. 자동 복구 시도
3. 실패 시 롤백
4. 상세 리포트
```

---

## 🎯 핵심 포인트

**Claude Code에서는 에이전트가 자동으로 서로를 호출할 수 없으므로:**

1. **사용자가 순서대로 요청**하거나
2. **Assistant가 워크플로우를 이해하고 순차적으로 처리**

이 가이드를 참고하여 효율적으로 사용하세요!